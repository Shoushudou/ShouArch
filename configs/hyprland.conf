# ShouArch Hyprland Configuration
# Dark aesthetic theme

monitor=,preferred,auto,1

exec-once = waybar
exec-once = dunst
exec-once = swww-daemon
exec-once = walset.sh /etc/configs/wallpapers/default.png
exec-once = nm-applet --indicator
exec-once = blueman-applet

input {
    kb_layout = us
    follow_mouse = 1
    touchpad {
        natural_scroll = no
    }
    sensitivity = 0
}

general {
    gaps_in = 5
    gaps_out = 10
    border_size = 2
    col.active_border = rgba(ff0066ee) rgba(00ff99ee) 45deg
    col.inactive_border = rgba(595959aa)
    layout = dwindle
    cursor_inactive_timeout = 0
}

decoration {
    rounding = 10
    
    blur {
        enabled = true
        size = 3
        passes = 1
        new_optimizations = true
    }
    
    drop_shadow = yes
    shadow_range = 4
    shadow_render_power = 3
    col.shadow = rgba(1a1a1aee)
}

animations {
    enabled = yes
    
    bezier = myBezier, 0.05, 0.9, 0.1, 1.05
    bezier = linear, 0, 0, 1, 1
    
    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}

dwindle {
    pseudotile = yes
    preserve_split = yes
}

master {
    new_is_master = true
}

gestures {
    workspace_swipe = false
}

device:epic-mouse-v1 {
    sensitivity = -0.5
}

# Window rules
windowrule = float, ^(kitty)$
windowrule = center, ^(kitty)$
windowrule = size 1200 700, ^(kitty)$

# Keybindings
$mainMod = SUPER

bind = $mainMod, Q, exec, kitty
bind = $mainMod, C, killactive, 
bind = $mainMod, M, exit, 
bind = $mainMod, E, exec, thunar
bind = $mainMod, V, togglefloating, 
bind = $mainMod, R, exec, rofi -show drun
bind = $mainMod, P, pseudo, # dwindle
bind = $mainMod, J, togglesplit, # dwindle

# Enhanced Productivity Shortcuts
bind = $mainMod, T, exec, thunar ~/Downloads
bind = $mainMod, B, exec, firefox
bind = $mainMod, N, exec, kitty nvim ~/Notes/
bind = $mainMod, F, fullscreen
bind = $mainMod, G, exec, ~/scripts/gaming-mode.sh on
bind = $mainMod SHIFT, G, exec, ~/scripts/gaming-mode.sh off

# Media Control
bind = $mainMod, F1, exec, playerctl previous
bind = $mainMod, F2, exec, playerctl play-pause  
bind = $mainMod, F3, exec, playerctl next

# System Info & Controls
bind = $mainMod, I, exec, ~/scripts/hypr-systeminfo.sh
bind = $mainMod, N, exec, ~/scripts/hypr-sunset.sh toggle

# Enhanced Media Keys with OSD
bind = , XF86AudioRaiseVolume, exec, ~/scripts/hypr-osd.sh volume-up
bind = , XF86AudioLowerVolume, exec, ~/scripts/hypr-osd.sh volume-down
bind = , XF86AudioMute, exec, ~/scripts/hypr-osd.sh volume-mute
bind = , XF86AudioPlay, exec, ~/scripts/hypr-osd.sh music-playpause
bind = , XF86AudioNext, exec, ~/scripts/hypr-osd.sh music-next
bind = , XF86AudioPrev, exec, ~/scripts/hypr-osd.sh music-prev
bind = , XF86MonBrightnessUp, exec, ~/scripts/hypr-osd.sh brightness-up
bind = , XF86MonBrightnessDown, exec, ~/scripts/hypr-osd.sh brightness-down

# Auto start night light at boot
exec-once = ~/scripts/hypr-sunset.sh auto

# Quick Apps
bind = $mainMod, S, exec, spotify
bind = $mainMod, D, exec, discord
bind = $mainMod, A, exec, ~/scripts/system-dashboard.sh

# Screenshot & Recording
bind = $mainMod, PRINT, exec, ~/scripts/screenshot.sh
bind = $mainMod SHIFT, PRINT, exec, ~/scripts/screen-record.sh

# Window Management
bind = $mainMod, Z, togglespecialworkspace
bind = $mainMod SHIFT, Z, movetoworkspace, special

# Spotify Control Keybindings
bind = $mainMod, F7, exec, dbus-send --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.PlayPause
bind = $mainMod, F8, exec, dbus-send --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Next
bind = $mainMod, F9, exec, dbus-send --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Previous
bind = $mainMod SHIFT, F8, exec, ~/scripts/spotify-terminal.sh next-album  # Random album baru

# Move focus
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Switch workspaces
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5

# Move windows to workspace
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5

# Scroll through workspaces
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# Move/resize windows
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Multimedia keys
bind = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1.0 @DEFAULT_AUDIO_SINK@ 5%+
bind = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bind = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bind = , XF86AudioPlay, exec, playerctl play-pause
bind = , XF86AudioNext, exec, playerctl next
bind = , XF86AudioPrev, exec, playerctl previous

# Screenshots
bind = , PRINT, exec, grim -g "$(slurp)" - | wl-copy
bind = SHIFT, PRINT, exec, grim -g "$(slurp)" ~/Pictures/screenshot-$(date +%Y%m%d-%H%M%S).png

# Wallpaper cycling for 6 wallpapers
bind = $mainMod, W, exec, walset.sh random
bind = $mainMod SHIFT, 1, exec, walset.sh 1  # default.png
bind = $mainMod SHIFT, 2, exec, walset.sh 2  # alt1.png  
bind = $mainMod SHIFT, 3, exec, walset.sh 3  # alt2.png
bind = $mainMod SHIFT, 4, exec, walset.sh 4  # alt3.png
bind = $mainMod SHIFT, 5, exec, walset.sh 5  # alt4.png
bind = $mainMod SHIFT, 6, exec, walset.sh 6  # alt5.png

# ShouArch Hyprland Configuration

# Load plugins
plugin {
    # Custom title bars
    hyprbars {
        bar_height = 30
        bar_color = rgba(1a1a1aff)
        bar_text_size = 11
        bar_text_font = JetBrains Mono Nerd Font
        
        hyprbars-button = rgb(ff0066), 12, 󰖭, hyprctl dispatch killactive
        hyprbars-button = rgb(00ff99), 12, , hyprctl dispatch fullscreen 1
        hyprbars-button = rgb(ffcc00), 12, 󰖰, hyprctl dispatch togglefloating
    }
    
    # Advanced tiling
    hy3 {
        tabs {
            height = 35
            padding = 8
            render_text = true
        }
        autotile {
            enable = yes
            ephemeral_groups = yes
        }
    }
    
    # Window wrapping
    hyprwinwrap {
        class = kitty
        animation {
            duration = 0.2
        }
    }
}

# Window rules for hy3
windowrulev2 = float, title:^(hy3 - .*)$
windowrulev2 = size 400 500, title:^(hy3 - .*)$
windowrulev2 = center, title:^(hy3 - .*)$

# Keybinds for hy3 tiling
bind = $mainMod, H, hy3:movefocus, l
bind = $mainMod, L, hy3:movefocus, r  
bind = $mainMod, K, hy3:movefocus, u
bind = $mainMod, J, hy3:movefocus, d

bind = $mainMod SHIFT, H, hy3:movewindow, l
bind = $mainMod SHIFT, L, hy3:movewindow, r
bind = $mainMod SHIFT, K, hy3:movewindow, u
bind = $mainMod SHIFT, J, hy3:movewindow, d

# Tab controls for hy3
bind = $mainMod, Tab, hy3:changefocus, next
bind = $mainMod SHIFT, Tab, hy3:changefocus, prev

# Window wrapping controls
bind = $mainMod, U, exec, hyprctl keyword plugin:hyprwinwrap:class "^(kitty|firefox|thunar)$"

# ShouArch Global App Shortcuts

# Web & Browser
bind = $mainMod, F1, exec, firefox
bind = $mainMod SHIFT, F1, exec, google-chrome-stable
bind = $mainMod, F2, exec, thorium-browser

# Development
bind = $mainMod, C, exec, code
bind = $mainMod SHIFT, C, exec, codium
bind = $mainMod, T, exec, kitty
bind = $mainMod SHIFT, T, exec, wezterm
bind = $mainMod, G, exec, github-desktop
bind = $mainMod, SEMICOLON, exec, nvim

# File Management
bind = $mainMod, E, exec, thunar
bind = $mainMod SHIFT, E, exec, nautilus
bind = $mainMod, F, exec, nemo

# Communication
bind = $mainMod, D, exec, discord
bind = $mainMod SHIFT, D, exec, webcord
bind = $mainMod, M, exec, telegram-desktop
bind = $mainMod SHIFT, M, exec, element-desktop

# Media & Creative
bind = $mainMod, S, exec, spotify
bind = $mainMod SHIFT, S, exec, spotify-launcher
bind = $mainMod, V, exec, vlc
bind = $mainMod SHIFT, V, exec, mpv
bind = $mainMod, O, exec, obs
bind = $mainMod SHIFT, O, exec, kdenlive

# Utilities
bind = $mainMod, B, exec, blueman-manager
bind = $mainMod SHIFT, B, exec, bluetoothctl
bind = $mainMod, P, exec, pavucontrol
bind = $mainMod SHIFT, P, exec, easyeffects
bind = $mainMod, I, exec, gnome-system-monitor
bind = $mainMod SHIFT, I, exec, btop

# Gaming
bind = $mainMod, A, exec, steam
bind = $mainMod SHIFT, A, exec, lutris
bind = $mainMod, Z, exec, bottles

# Office & Productivity
bind = $mainMod, L, exec, libreoffice
bind = $mainMod SHIFT, L, exec, onlyoffice-desktopeditors
bind = $mainMod, N, exec, obsidian
bind = $mainMod SHIFT, N, exec, logseq

# Screenshot & Recording
bind = $mainMod, PRINT, exec, ~/scripts/screenshot.sh area
bind = $mainMod SHIFT, PRINT, exec, ~/scripts/screenshot.sh window
bind = $mainMod CTRL, PRINT, exec, ~/scripts/screenshot.sh screen
bind = $mainMod, R, exec, ~/scripts/screen-record.sh start
bind = $mainMod SHIFT, R, exec, ~/scripts/screen-record.sh stop

# System Controls
bind = $mainMod, X, exec, ~/scripts/hypr-systeminfo.sh
bind = $mainMod SHIFT, X, exec, ~/scripts/system-dashboard.sh
bind = $mainMod, W, exec, ~/scripts/walset.sh random
bind = $mainMod SHIFT, W, exec, ~/scripts/hypr-sunset.sh toggle

# Quick Settings
bind = $mainMod, Q, exec, ~/scripts/quick-settings.sh
bind = $mainMod SHIFT, Q, exec, rofi -show drun

# App Launcher with Categories
bind = $mainMod, SPACE, exec, ~/scripts/app-launcher.sh